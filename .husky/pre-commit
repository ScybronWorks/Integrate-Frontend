#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'âš™ï¸ ğŸ› ï¸  Running pre-commit checks: Styling, linting, and type-checking your project, Please wait...'

# Run Prettier to check code formatting
npm run prettier || (
    echo 'âŒ Prettier Check Failed. Please run `npm run prettier`, fix any issues, and try committing again.'
    false
)

# Run ESLint to check for code quality and style issues
npm run lint || (
    echo 'âŒ ESLint Check Failed. Please address the issues listed above, fix them, and try committing again.'
    false
)

# Run TypeScript to check for type errors
npm run check-types || (
    echo 'âŒ TypeScript Check Failed. Please fix the type errors listed above and try committing again.'
    false
)

# Run Commitlint to enforce commit message conventions
npm run commitlint || (
    echo 'âŒ Commitlint Check Failed. Please fix your commit message to match the required format and try again.'
    false
)

# If everything passes, proceed with the commit
echo 'âœ… All checks passed! Committing your changes... âœ…'
